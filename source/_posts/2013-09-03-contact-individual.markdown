---
layout: post
title: "电话本优化"
date: 2013-09-03 10:36
comments: true
categories: [project]
---

目前的电话本，在以下方面处理的不够人性化

- 多个联系人拥有相同的名字。通常需要用户手动处理。
- 号码变更。通常只能保存最新的号码。

<!--more-->

重名问题
--------

#### 解决方案

重名问题，最大的影响在于：我们通过姓名来区分一个人，重名之后无法区分了。  
为了解决这个问题，我们增加一个 identifier 字段，表示联系人的简单描述。

如果每次都需要 name + identifier 才能找到一个联系人，那么使用起来不方便了很多。
如果没有重复 name 时只需要 name，那么，添加联系人时，如何判断此人是否重复。

此处需要减少 identifier 字段的用途 -- 仅用于重名时区分联系人。
不再存储联系人的简单描述信息。
如果没有重名，name 对应的 identifier 为空。

用户查询时，可以只填写 name，但后台匹配时，需要追加 identifier 为空的约束条件。

#### 数据库设计

- name: 纯文本，不能为空。
- identifer: 纯文本。

name + identifer 满足唯一约束。

identier 为空，表示没有重名。故，name 如果有多个 identifer，均不能为空。
